<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:mpm="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <th:block th:insert="fragments/common_fragments :: common_header"/>
    <th:block th:insert="fragments/common_fragments :: common_css"/>
    <link th:href="@{/static/plugins/switchery/switchery.min.css}" rel="stylesheet">
    <!-- Tooltipster css -->
    <link rel="stylesheet" th:href="@{/static/plugins/tooltipster/tooltipster.bundle.min.css}">
</head>
<body>
<!-- Loader start 页面加载进度-->
<th:block th:insert="fragments/common_fragments :: common_loader"/>
<!-- Loader end -->

<!-- Start content -->
<div class="content" style="margin-top: 60px">
    <div class="container">

        <!-- start row 页面导航-->
        <div class="row">
            <div class="col-xs-12">
                <div class="page-title-box">
                    <h4 class="page-title">企业详细详情</h4>
                    <ol class="breadcrumb p-0 m-0">
                        <li>
                            客户管理
                        </li>
                        <li>
                            企业接入
                        </li>
                        <li class="active">
                            企业详细详情
                        </li>
                    </ol>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <!-- end row -->

        <!-- start row 页面内容-->
        <div class="row" th:remove="${#strings.isEmpty(error)}?none:all">
            <div class="col-sm-12">
                <div class="card-box">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="text-center card-box">
                                <div class="member-card">
                                    <div class="thumb-xl member-thumb m-b-10 center-block">
                                        <img th:src="@{/static/assets/images/users/avatar-1.jpg}"
                                             class="img-circle img-thumbnail"
                                             alt="profile-image">
                                        <i class="mdi mdi-star-circle member-star text-success"
                                           title="verified user"></i>
                                    </div>
                                    <div class="">
                                        <h4 class="m-b-5 m-t-5">[[${enterpriseBasicInfoValidator.enterpriseName}]]</h4>
                                        <p class="text-muted"></p>
                                    </div>
                                    <hr/>
                                    <div class="text-left">
                                        <p th:remove="${enterpriseBasicInfoValidator.enterpriseParentId eq '0000'}?all:none"
                                           class="text-muted font-13"><strong>上级企业
                                            :</strong> <span class="m-l-15">[[${enterpriseBasicInfoValidator.parentEnterpriseName}]]</span>
                                        <p class="text-muted font-13"><strong>联系人 :</strong> <span
                                                class="m-l-15">[[${enterpriseBasicInfoValidator.enterpriseContacts}]]</span>
                                        </p>
                                        <p class="text-muted font-13"><strong>联系方式 :</strong><span class="m-l-15">[[${enterpriseBasicInfoValidator.enterpriseContactsPhone}]]</span>
                                        </p>
                                        <p class="text-muted font-13"><strong>企业类型 :</strong>
                                            <span class="m-l-15">
                                                <mpm:tag identity="enterpriseType" show-type="label" key="code"
                                                         th:value="${enterpriseBasicInfoValidator.enterpriseType}"/>
                                            </span>
                                        </p>
                                        <p class="text-muted font-13"><strong>对接主体公司 :</strong>
                                            <span class="m-l-15">
                                                <mpm:tag identity="corporation" show-type="label" key="code"
                                                         th:value="${enterpriseBasicInfoValidator.accessCorporation}"/>
                                            </span>
                                        </p>
                                        </p>
                                        <p class="text-muted font-13"><strong>销售码（销售身份） :</strong> <span class="m-l-15">[[${salerName}]]</span>
                                        </p>
                                        </p>
                                        <p class="text-muted font-13"><strong>状态 :</strong>
                                            <span class="m-l-15"
                                                  th:if="${enterpriseBasicInfoValidator.enterpriseStatus eq '1'}">有效</span>
                                            <span class="m-l-15"
                                                  th:if="${enterpriseBasicInfoValidator.enterpriseStatus eq '0'}">无效</span>
                                        </p>
                                    </div>
                                    <div>
                                        <a sec:authorize-url="/enterprise/edit/*/*"
                                           th:href="@{/enterprise/edit/1/{id}(id=${enterpriseBasicInfoValidator.enterpriseId})}"
                                           class="btn btn-info waves-effect waves-light m-l-10 btn-sm">
                                            <i class="mdi mdi-table-edit" style="margin-right:5px"></i>编辑企业</a>
                                        <a data-toggle="modal" data-target="#enterprise-forbiden"
                                           th:class="${enterpriseBasicInfoValidator.enterpriseStatus =='1'?'btn btn-danger waves-effect waves-light m-l-10 btn-sm':'btn btn-inverse waves-effect waves-light m-l-10 btn-sm'}"
                                           sec:authorize-url="/enterprise/forbiddenEnterprise/*/*"
                                           th:onclick="confirmforbbenEnterprise([[${enterpriseBasicInfoValidator.enterpriseId}]],[[${enterpriseBasicInfoValidator.enterpriseStatus}]],this)">
                                            <i class="mdi mdi-delete" style="margin-right:5px"></i>[[${enterpriseBasicInfoValidator.enterpriseStatus
                                            =='1'?'注销企业':'启用'}]]</a>
                                    </div>
                                </div>
                            </div> <!-- end card-box -->
                            <!--<div class="row">
                                <div class="col-lg-12">
                                    <div class="panel panel-color panel-default">
                                        <div class="panel-heading">
                                            <h3 class="panel-title" style="color:#4C4C4C">
                                                <i class="mdi mdi-filter-outline" style="margin-right:5px"></i>
                                                个性化显示设置
                                            </h3>
                                        </div>
                                        <div class="panel-body">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="property-horizontal">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="property-content" style="height:146px">
                                                                    <div class="listingInfo">

                                                                        <div class="col-sm-12">
                                                                            <p style="font-size:12px" th:if="${enterpriseBasicInfoValidator.enterpriseType ne 'IDENTIFICATION'}">WEB登录账号：
                                                                                是否显示 <input id="login-show"
                                                                                            type="checkbox" checked
                                                                                            data-plugin="switchery"
                                                                                            data-color="#3CC9D7"
                                                                                            data-size="small"
                                                                                            style="margin-right:20px;margin-left:5px"/>
                                                                                是否展开 <input id="login-spread"
                                                                                            type="checkbox" checked
                                                                                            data-plugin="switchery"
                                                                                            data-color="#26A59A"
                                                                                            data-size="small"
                                                                                            style="margin-left:5px"/>
                                                                            </p>

                                                                            <p style="font-size:12px">邮&nbsp;&nbsp; 寄&nbsp;&nbsp;&nbsp;
                                                                                信&nbsp;&nbsp; 息：
                                                                                是否显示 <input id="mail-show"
                                                                                            type="checkbox" checked
                                                                                            data-plugin="switchery"
                                                                                            data-color="#3CC9D7"
                                                                                            data-size="small"
                                                                                            style="margin-right:20px;margin-left:5px"/>
                                                                                是否展开 <input id="mail-spread"
                                                                                            type="checkbox" checked
                                                                                            data-plugin="switchery"
                                                                                            data-color="#26A59A"
                                                                                            data-size="small"
                                                                                            style="margin-left:5px"/>
                                                                            </p>
                                                                            <p style="font-size:12px">开&nbsp;&nbsp; 票&nbsp;&nbsp;&nbsp;
                                                                                信&nbsp;&nbsp; 息：
                                                                                是否显示 <input id="invoice-show"
                                                                                            type="checkbox" checked
                                                                                            data-plugin="switchery"
                                                                                            data-color="#3CC9D7"
                                                                                            data-size="small"
                                                                                            style="margin-right:20px;margin-left:5px"/>
                                                                                是否展开 <input id="invoice-spread"
                                                                                            type="checkbox" checked
                                                                                            data-plugin="switchery"
                                                                                            data-color="#26A59A"
                                                                                            data-size="small"
                                                                                            style="margin-left:5px"/>
                                                                            </p>
                                                                        </div>
                                                                    </div>
                                                                    &lt;!&ndash; end. Card actions &ndash;&gt;
                                                                </div>
                                                            </div>
                                                            &lt;!&ndash; /col 8 &ndash;&gt;
                                                        </div>
                                                        &lt;!&ndash; /inner row &ndash;&gt;
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>-->
                        </div> <!-- end col -->

                        <div class="col-md-9">
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <div class="row">
                                        <h4> EC详细信息
                                            <div class="pull-right" style="margin-top: -12px;">
                                                <a sec:authorize-url="/enterprise/list"
                                                   th:href="@{/enterprise/list}"
                                                   class="btn btn-default waves-effect waves-light btn-md">
                                                    <i class="glyphicon  glyphicon-share-alt"
                                                       style="margin-right:5px"></i>
                                                    返回企业列表</a>
                                                <a sec:authorize-url="/account/center/*"
                                                   th:href="@{/account/center/{enterpriseId}(enterpriseId=${enterpriseBasicInfoValidator.enterpriseId})}"
                                                   style="margin-left:10px;"
                                                   class="btn btn-instagram waves-effect waves-light btn-md">
                                                    <i class="mdi mdi-vector-circle" style="margin-right:5px"></i>
                                                    EC业务账号中心
                                                </a>
                                                <a sec:authorize-url="/finance/account/center/*"
                                                   th:href="@{/finance/account/center/{enterpriseId}(enterpriseId=${enterpriseBasicInfoValidator.enterpriseId})}"
                                                   style="margin-left:10px;"
                                                   class="btn btn-tumblr waves-effect waves-light btn-md">
                                                    <i class="mdi mdi-vector-circle" style="margin-right:5px"></i>
                                                    EC财务中心
                                                </a>
                                            </div>
                                        </h4>
                                    </div>
                                    <div id="login-panel" class="row" style="display:block"
                                         th:if="${enterpriseBasicInfoValidator.enterpriseType ne 'IDENTIFICATION'}">
                                        <div class="col-lg-12" style="margin-top:10px">
                                            <div class="panel panel-color panel-info">
                                                <div id="login-account-down" class="panel-heading"
                                                     style="display:block">
                                                    <h3 class="panel-title">
                                                        <i class="mdi mdi-account-circle" style="margin-right:5px"></i>
                                                        企业WEB登录账号信息
                                                        <div class="pull-right">
                                                            <i id="login-account-icon-down"
                                                               class="fa fa-angle-double-down"
                                                               style="margin-right:10px"></i>
                                                        </div>
                                                    </h3>
                                                </div>
                                                <div id="login-account-up" class="panel-heading" style="display:none">
                                                    <h3 class="panel-title">
                                                        <i class="mdi mdi-account-circle" style="margin-right:5px"></i>
                                                        企业WEB登录账号信息
                                                        <div class="pull-right">
                                                            <i id="login-account-icon-up"
                                                               class="fa fa-angle-double-down"
                                                               style="margin-right:10px"></i>
                                                        </div>
                                                    </h3>
                                                </div>
                                                <div id="login-account" class="panel-body" style="display:block">
                                                    <div class="row">
                                                        <div class="col-md-4" th:each="web:${webList}">
                                                            <div class="property-card property-horizontal">
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <div class="property-content"
                                                                             style="height:166px">
                                                                            <div class="listingInfo">
                                                                                <div class="">
                                                                                    <h5 style="padding-left:10px">
                                                                                        <p>WEB账号：<span>[[${web.webLoginName}]]</span></p>
                                                                                    </h5>
                                                                                </div>
                                                                                <div class="col-sm-12">
                                                                                    <p style="font-size:12px">
                                                                                        WEB密码：
                                                                                        <a class="btn btn-success btn-rounded waves-effect waves-light btn-xs" th:onclick="lookPassword([[${web.id}]])">
                                                                                            查看密码
                                                                                        </a>
                                                                                        <span th:id="${web.id}"></span>
                                                                                    </p>
                                                                                </div>
                                                                                <div class="col-sm-12">
                                                                                    <p style="font-size:12px">
                                                                                        WEB账号状态：
                                                                                        <span th:if="${web.accountStatus eq '1'}">正常</span>
                                                                                        <span th:if="${web.accountStatus eq '0'}"
                                                                                              style="color: red">已注销</span>
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="property-action">
                                                                                <div class="pull-right">
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-add-user-modal"
                                                                                       class="btn btn-info"
                                                                                       sec:authorize-url="/enterprise/web/save"
                                                                                       th:onclick="openPassword([[${web.id}]],[[${web.webLoginName}]],'edit',[[${web.webRealName}]])"
                                                                                       style="font-size:12px;">密码重置</a>
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#user-forbiden"
                                                                                       sec:authorize-url="/enterprise/web/forbiddenWeb/*/*"
                                                                                       th:onclick="confirmForbidden([[${web.id}]],[[${web.accountStatus}]],this)"
                                                                                       th:class="${web.accountStatus eq '1'?'btn btn-danger':'btn btn-inverse'}"
                                                                                       style="font-size:12px;">[[${web.accountStatus}=='1'?'注销':'启用']]</a>
                                                                                    <!-- sec:authorize-url="/enterprise/web/webLoginAuth"-->
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-add-auth-modal"
                                                                                       class="btn btn-primary"

                                                                                       th:onclick="openAuth([[${web.id}]])"
                                                                                       style="font-size:12px;">授权业务</a>
                                                                                </div>
                                                                            </div>
                                                                            <!-- end. Card actions -->
                                                                        </div>
                                                                    </div>
                                                                    <!-- /col 8 -->
                                                                </div>
                                                                <!-- /inner row -->
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="property-card property-horizontal">
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <div class="property-content"
                                                                             style="height:166px">
                                                                            <div class="listingInfo">
                                                                                <div class="">

                                                                                </div>
                                                                                <div class="col-sm-12"
                                                                                     style="line-height:110px;margin:0 auto;">
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-add-user-modal"
                                                                                       sec:authorize-url="/enterprise/web/save"
                                                                                       th:onclick="openPassword('','','add','')"
                                                                                       class="btn btn-info waves-effect waves-light m-l-10 btn-md">
                                                                                        <i class="glyphicon glyphicon-plus-sign"
                                                                                           style="margin-right:5px"></i>新建企业WEB登录账号</a>
                                                                                </div>
                                                                            </div>
                                                                            <!-- end. Card actions -->
                                                                        </div>
                                                                    </div>
                                                                    <!-- /col 8 -->
                                                                </div>
                                                                <!-- /inner row -->
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="mail-panel" class="row">
                                        <div class="col-lg-12" style="margin-top:10px">
                                            <div class="panel panel-color panel-teal">
                                                <div id="mail-info-down" class="panel-heading" style="display:block">
                                                    <h3 class="panel-title">
                                                        <i class="mdi mdi-email-outline" style="margin-right:5px"></i>
                                                        邮寄信息
                                                        <div class="pull-right">
                                                            <i id="mail-info-icon-down" class="fa fa-angle-double-down"
                                                               style="margin-right:10px"></i>
                                                        </div>
                                                    </h3>
                                                </div>
                                                <div id="mail-info-up" class="panel-heading" style="display:none">
                                                    <h3 class="panel-title">
                                                        <i class="mdi mdi-email-outline" style="margin-right:5px"></i>
                                                        邮寄信息
                                                        <div class="pull-right">
                                                            <i id="mail-info-icon-up" class="fa fa-angle-double-down"
                                                               style="margin-right:10px"></i>
                                                        </div>
                                                    </h3>
                                                </div>
                                                <div id="mail-info" class="panel-body" style="display:block">
                                                    <div class="row">
                                                        <div class="col-md-4" th:each="express:${expressList}">
                                                            <div class="property-card property-horizontal">
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <div class="property-content"
                                                                             style="height:206px">
                                                                            <div class="listingInfo"
                                                                                 th:id="${'expressDiv'+express.id}">
                                                                                <div class="">
                                                                                    <h5 style="padding-left:10px">
                                                                                        联系方式：[[${express.postPhone}]]
                                                                                        <div class="pull-right">
                                                                                            <span style="display:none"
                                                                                                  class="btn btn-inverse waves-effect waves-light m-l-10 btn-xs"
                                                                                                  th:id="${'copyId'+express.id}">已复制到剪贴板</span>
                                                                                            <i class="fa  fa-copy"
                                                                                               th:id="${'expressCopy'+express.id}"
                                                                                               th:data-clipboard-target="${'#expressDiv'+express.id}"
                                                                                               th:onclick="expressCopy([[${express.id}]])"
                                                                                               style="margin-right:5px;color:#26A59A"
                                                                                               title="复制邮寄信息"></i>
                                                                                        </div>
                                                                                    </h5>
                                                                                </div>
                                                                                <div class="col-sm-12">
                                                                                    <p style="font-size:12px">
                                                                                        姓名：[[${express.postContacts}]]</p>
                                                                                    <p style="font-size:12px">
                                                                                        地址：[[${express.postAddress}]]</p>
                                                                                    <p style="font-size:12px">
                                                                                        邮寄备注：[[${express.postRemark}]]</p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="property-action">

                                                                                <div class="pull-right">
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-add-mail-modal"
                                                                                       sec:authorize-url="/enterprise/express/save"
                                                                                       th:onclick="openExpress([[${express.id}]],[[${express.postContacts}]],[[${express.postPhone}]],[[${express.postAddress}]],[[${express.postRemark}]],'edit')"
                                                                                       class="btn btn-teal"
                                                                                       style="font-size:12px;">编辑</a>
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-modal"
                                                                                       sec:authorize-url="/enterprise/express/deleteById/*"
                                                                                       th:onclick="confirmDelete([[${express.id}]],'1')"
                                                                                       class="btn btn-danger"
                                                                                       style="font-size:12px;">删除</a>
                                                                                </div>
                                                                            </div>
                                                                            <!-- end. Card actions -->
                                                                        </div>
                                                                    </div>
                                                                    <!-- /col 8 -->
                                                                </div>
                                                                <!-- /inner row -->
                                                            </div>

                                                        </div>

                                                        <div class="col-md-4">
                                                            <div class="property-card property-horizontal">
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <div class="property-content"
                                                                             style="height:206px">
                                                                            <div class="listingInfo">
                                                                                <div class="">

                                                                                </div>
                                                                                <div class="col-sm-12"
                                                                                     style="line-height:166px;margin:0 auto;">
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-add-mail-modal"
                                                                                       sec:authorize-url="/enterprise/express/save"
                                                                                       th:onclick="openExpress('','','','','','add')"
                                                                                       class="btn btn-teal waves-effect waves-light m-l-10 btn-md">
                                                                                        <i class="glyphicon glyphicon-plus-sign"
                                                                                           style="margin-right:5px"></i>新建邮寄信息</a>
                                                                                </div>
                                                                            </div>

                                                                            <!-- end. Card actions -->
                                                                        </div>
                                                                    </div>
                                                                    <!-- /col 8 -->
                                                                </div>
                                                                <!-- /inner row -->
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="invoice-panel" class="row">
                                        <div class="col-lg-12" style="margin-top:10px">
                                            <div class="panel panel-color panel-success">
                                                <div id="invoice-info-down" class="panel-heading" style="display:block">
                                                    <h3 class="panel-title">
                                                        <i class="mdi mdi-stackoverflow" style="margin-right:5px"></i>
                                                        开票信息
                                                        <div class="pull-right">
                                                            <i id="invoice-info-icon-down"
                                                               class="fa fa-angle-double-down"
                                                               style="margin-right:10px"></i>
                                                        </div>
                                                    </h3>
                                                </div>
                                                <div id="invoice-info-up" class="panel-heading" style="display:none">
                                                    <h3 class="panel-title">
                                                        <i class="mdi mdi-note-outline" style="margin-right:5px"></i>
                                                        开票信息
                                                        <div class="pull-right">
                                                            <i id="invoice-info-icon-up" class="fa fa-angle-double-up"
                                                               style="margin-right:10px;"></i>
                                                        </div>
                                                    </h3>
                                                </div>
                                                <div id="invoice-info" class="panel-body" style="display:block">
                                                    <div class="row">
                                                        <div class="col-md-4" th:if="${commonInvoice != null}">
                                                            <div class="property-card property-horizontal">
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <div class="property-content"
                                                                             style="height:230px">
                                                                            <div class="listingInfo">
                                                                                <div class="">
                                                                                    <h5 style="padding-left:10px">
                                                                                        增值税普通发票
                                                                                        <div class="pull-right">
                                                                                            <span style="display:none"
                                                                                                  class="btn btn-inverse waves-effect waves-light m-l-10 btn-xs"
                                                                                                  th:id="${'copyCommonId'}">已复制到剪贴板</span>
                                                                                            <i class="fa fa-copy"
                                                                                               id="commonCopy"
                                                                                               data-clipboard-target="#commonDiv"
                                                                                               onclick="invoiceCopy('commonCopy','1')"
                                                                                               data-toggle="tooltip"
                                                                                               data-placement="left"
                                                                                               style="margin-right:5px;color:#4CD396"></i>
                                                                                        </div>
                                                                                    </h5>
                                                                                </div>
                                                                                <div class="col-sm-12" id="commonDiv">
                                                                                    <p style="font-size:12px">
                                                                                        发票抬头：[[${commonInvoice.invoiceTitle}]]</p>
                                                                                    <p style="font-size:12px">
                                                                                        纳税人税号：[[${commonInvoice.taxPayerNumber}]]</p>
                                                                                    <p style="font-size:12px">
                                                                                        备注：[[${commonInvoice.invoiceMark}]]</p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="property-action">

                                                                                <div class="pull-right">

                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-set-invoice-modal"
                                                                                       sec:authorize-url="/enterprise/invoice/save"
                                                                                       th:onclick="openCommonInvoice([[${commonInvoice.id}]],[[${commonInvoice.invoiceTitle}]],[[${commonInvoice.taxPayerNumber}]],[[${commonInvoice.openBank}]],[[${commonInvoice.openAccount}]],[[${commonInvoice.registerPhone}]],[[${commonInvoice.registerAddress}]],[[${commonInvoice.invoiceMark}]])"
                                                                                       class="btn btn-success"
                                                                                       style="font-size:12px;">设置</a>
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-modal"
                                                                                       sec:authorize-url="/enterprise/invoice/deleteById/*"
                                                                                       th:onclick="confirmDelete([[${commonInvoice.id}]],'2')"
                                                                                       class="btn btn-danger"
                                                                                       style="font-size:12px;">删除</a>
                                                                                </div>
                                                                            </div>
                                                                            <!-- end. Card actions -->
                                                                        </div>
                                                                    </div>
                                                                    <!-- /col 8 -->
                                                                </div>
                                                                <!-- /inner row -->
                                                            </div>

                                                        </div>
                                                        <div class="col-md-4" th:if="${commonInvoice == null}">
                                                            <div class="property-card property-horizontal">
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <div class="property-content"
                                                                             style="height:230px">
                                                                            <div class="listingInfo">
                                                                                <div class="">

                                                                                </div>
                                                                                <div class="col-sm-12"
                                                                                     style="line-height:166px;margin:0 auto;">
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-set-invoice-modal"
                                                                                       sec:authorize-url="/enterprise/invoice/save"
                                                                                       class="btn btn-purple waves-effect waves-light m-l-10 btn-md">
                                                                                        <i class="glyphicon glyphicon-plus-sign"
                                                                                           style="margin-right:5px"></i>新建增值税普通发票</a>
                                                                                </div>
                                                                            </div>

                                                                            <!-- end. Card actions -->
                                                                        </div>
                                                                    </div>
                                                                    <!-- /col 8 -->
                                                                </div>
                                                                <!-- /inner row -->
                                                            </div>
                                                        </div>

                                                        <div class="col-md-8" th:if="${specialInvoice != null}">
                                                            <div class="property-card property-horizontal">
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <div class="property-content"
                                                                             style="height:230px">
                                                                            <div class="listingInfo">
                                                                                <div class="">
                                                                                    <h5 style="padding-left:10px">
                                                                                        增值税专用发票
                                                                                        <div class="pull-right">
                                                                                            <span style="display:none"
                                                                                                  class="btn btn-inverse waves-effect waves-light m-l-10 btn-xs"
                                                                                                  th:id="${'copySpecialId'}">已复制到剪贴板</span>
                                                                                            <i class="fa  fa-copy"
                                                                                               id="specialCopy"
                                                                                               data-clipboard-target="#specialDiv"
                                                                                               onclick="invoiceCopy('specialCopy','2')"
                                                                                               style="margin-right:5px;color:#4CD396"
                                                                                               data-toggle="tooltip"
                                                                                               data-placement="left"></i>
                                                                                        </div>
                                                                                    </h5>
                                                                                </div>
                                                                                <div id="specialDiv">
                                                                                    <div class="col-sm-7">
                                                                                        <p style="font-size:12px">
                                                                                            发票抬头：[[${specialInvoice.invoiceTitle}]]</p>
                                                                                        <p style="font-size:12px">
                                                                                            注册地址：[[${specialInvoice.registerAddress}]]</p>
                                                                                        <p style="font-size:12px">
                                                                                            开户银行：[[${specialInvoice.openBank}]]</p>
                                                                                        <p style="font-size:12px">
                                                                                            开票内容：[[${specialInvoice.invoiceMark}]]</p>
                                                                                    </div>
                                                                                    <div class="col-sm-5">
                                                                                        <p style="font-size:12px">
                                                                                            纳税人税号：[[${specialInvoice.taxPayerNumber}]]</p>
                                                                                        <p style="font-size:12px">
                                                                                            注册电话：[[${specialInvoice.registerPhone}]]</p>
                                                                                        <p style="font-size:12px">
                                                                                            开户账号：[[${specialInvoice.openAccount}]]</p>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="property-action">

                                                                                <div class="pull-right">
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-set-invoice-special-modal"
                                                                                       sec:authorize-url="/enterprise/invoice/save"
                                                                                       th:onclick="openSpecialInvoice([[${specialInvoice.id}]],[[${specialInvoice.invoiceTitle}]],[[${specialInvoice.taxPayerNumber}]],[[${specialInvoice.openBank}]],[[${specialInvoice.openAccount}]],[[${specialInvoice.registerPhone}]],[[${specialInvoice.registerAddress}]],[[${specialInvoice.invoiceMark}]])"
                                                                                       class="btn btn-success"
                                                                                       style="font-size:12px;">设置</a>
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-modal"
                                                                                       sec:authorize-url="/enterprise/invoice/deleteById/*"
                                                                                       th:onclick="confirmDelete([[${specialInvoice.id}]],'2')"
                                                                                       class="btn btn-danger"
                                                                                       style="font-size:12px;">删除</a>
                                                                                </div>
                                                                            </div>
                                                                            <!-- end. Card actions -->
                                                                        </div>
                                                                    </div>
                                                                    <!-- /col 8 -->
                                                                </div>
                                                                <!-- /inner row -->
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4" th:if="${specialInvoice == null}">
                                                            <div class="property-card property-horizontal">
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <div class="property-content"
                                                                             style="height:230px">
                                                                            <div class="listingInfo">
                                                                                <div class="">

                                                                                </div>
                                                                                <div class="col-sm-12"
                                                                                     style="line-height:166px;margin:0 auto;">
                                                                                    <a data-toggle="modal"
                                                                                       data-target="#confirm-set-invoice-special-modal"
                                                                                       sec:authorize-url="/enterprise/invoice/save"
                                                                                       class="btn btn-brown waves-effect waves-light m-l-10 btn-md">
                                                                                        <i class="glyphicon glyphicon-plus-sign"
                                                                                           style="margin-right:5px"></i>新建增值税专用发票</a>
                                                                                </div>
                                                                            </div>

                                                                            <!-- end. Card actions -->
                                                                        </div>
                                                                    </div>
                                                                    <!-- /col 8 -->
                                                                </div>
                                                                <!-- /inner row -->
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row" style="margin-top:10px">
                                        <div class="col-md-12">
                                            <div class="card-box">
                                                <ul class="nav nav-tabs tabs-bordered">
                                                    <li class="active" id="tab1">
                                                        <a onclick="active('1')"
                                                           sec:authorize-url="/ec/customer/center/contract/list/*"
                                                           th:href="@{/ec/customer/center/contract/list/{id}(id=${enterpriseWebAccountInfoValidator.enterpriseId})}"
                                                           th:target="tab-content">合同信息
                                                        </a>
                                                    </li>
                                                    <li class="" id="tab2">
                                                        <a onclick="active('2')"
                                                           th:if="${enterpriseBasicInfoValidator.enterpriseType ne 'IDENTIFICATION'}"
                                                           sec:authorize-url="/ec/customer/center/material/list/*"
                                                           th:href="@{/ec/customer/center/material/list/{id}(id=${enterpriseWebAccountInfoValidator.enterpriseId})}"
                                                           th:target="tab-content">资质信息
                                                        </a>
                                                    </li>
                                                    <li class="" id="tab3">
                                                        <a onclick="active('3')"
                                                           th:if="${enterpriseBasicInfoValidator.enterpriseType ne 'IDENTIFICATION'}"
                                                           sec:authorize-url="/complaint/ec/customer/center/list/*"
                                                           th:href="@{/complaint/ec/customer/center/list/{id}(id=${enterpriseWebAccountInfoValidator.enterpriseId})}"
                                                           th:target="tab-content">投诉记录
                                                        </a>
                                                    </li>
                                                    <li class="" id="tab4">
                                                        <a onclick="active('4')" sec:authorize-url="/user/logs/list/*/*"
                                                           th:href="@{/user/logs/list/WEB-LOGIN/{id}(id=${enterpriseWebAccountInfoValidator.enterpriseId})}"
                                                           th:target="tab-content">web登录记录
                                                        </a>
                                                    </li>
                                                    <li class="" id="tab5">
                                                        <a onclick="active('5')" sec:authorize-url="/user/logs/list/*/*"
                                                           th:href="@{/user/logs/list/ENTERPRISE_INFO/{id}(id=${enterpriseWebAccountInfoValidator.enterpriseId})}"
                                                           th:target="tab-content">
                                                            <span class="visible-xs"><i class="fa fa-cog"></i></span>
                                                            <span class="hidden-xs">企业信息操作日志</span>
                                                        </a>
                                                    </li>
                                                </ul>
                                                <div class="tab-cotent" style="background-color:#fff">
                                                    <iframe name="tab-content" id="tab-content" th:frameBorder="0"
                                                            th:scrolling="auto"
                                                            th:src="@{/ec/customer/center/contract/list/{id}(id=${enterpriseWebAccountInfoValidator.enterpriseId})}"
                                                            style="padding: 0px; width: 100%; height: 900px;background-color:#fff"></iframe>
                                                </div>

                                            </div>
                                        </div> <!-- end col -->
                                    </div>
                                    <!-- end row -->
                                </div> <!-- end col -->

                            </div> <!-- end row -->

                        </div>
                        <!-- end col -->
                    </div>
                </div>
            </div>
        </div>
        <!-- End row -->

        <!-- start confirm user-forbiden modal  -->
        <div id="enterprise-forbiden" class="modal fade" tabindex="-1" role="dialog"
             aria-labelledby="custom-width-modalLabel" aria-hidden="true" style="display: none;margin-top: 80px"
             th:remove="${#strings.isEmpty(error)}?none:all">
            <div class="modal-dialog" style="width:33%;">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title">注销、启用企业</h4>
                    </div>
                    <div class="modal-body">
                        <h4>注意：</h4>
                        <p id="enterprise-tip">企业被注销后所有的业务、WEB登录账号将无法登陆及操作！</p>
                    </div>
                    <div class="modal-footer">
                        <input type="hidden" id="enterprise">
                        <input type="hidden" id="enterpriseActive">
                        <button type="button" id="forbbenEnterpriseButton"
                                sec:authorize-url="/enterprise/forbiddenEnterprise/*/*"
                                onclick="forbbenEnterprise()" class="btn btn-danger waves-effect waves-light">确定注销
                        </button>
                        <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- end confirm user-forbiden modal  -->

        <!-- start confirm add-user modal  -->
        <div id="confirm-add-user-modal" class="modal fade" tabindex="-1" role="dialog"
             th:remove="${#strings.isEmpty(error)}?none:all"
             aria-labelledby="custom-width-modalLabel"
             aria-hidden="true" style="display: none;margin: 60px;margin-top:68px">
            <div class="modal-dialog" style="width:33%;">
                <div class="modal-content">
                    <form id="submit_form" method="post" th:action="@{/enterprise/web/save}"
                          th:object="${enterpriseWebAccountInfoValidator}" data-parsley-validate="">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title">新建、编辑企业WEB登录账号</h4>
                        </div>
                        <div class="row" style="margin-top:10px">
                            <div class="col-md-12">
                                <div class="form-group m-b-20">
                                    <label>用户名(登录账号)<span class="text-danger">*</span>&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{webLoginName}"
                                           required="" data-parsley-length="[4,20]" autocomplete="off"
                                           data-parsley-pattern="^[0-9A-Za-z]{4,20}$"
                                           placeholder="输入字母或数字">
                                </div>
                                <div class="form-group m-b-20">
                                    <label>姓名&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{webRealName}"
                                           data-parsley-length="[1,30]" autocomplete="off"
                                           placeholder="输入姓名">
                                </div>
                                <div class="form-group m-b-20">
                                    <label>密码(包含字母和数字组成的8位)<span class="text-danger">*</span>&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{webLoginPassword}"
                                           required="" data-parsley-length="[8,20]" id="webLoginPassword"
                                           data-parsley-pattern="^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$"
                                           autocomplete="off"
                                           placeholder="密码">
                                </div>

                            </div>
                        </div>
                        <div class="modal-footer">
                            <input type="hidden" th:field="*{enterpriseId}">
                            <input type="hidden" th:field="*{id}">
                            <a class="btn btn-default waves-effect" data-dismiss="modal">取消</a>
                            <button sec:authorize-url="/enterprise/web/save" type="submit"
                                    class="btn btn-primary waves-effect waves-light">提交
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- end confirm add-user modal  -->

        <!-- start confirm user-forbiden modal  -->
        <div id="user-forbiden" class="modal fade" tabindex="-1" role="dialog"
             th:remove="${#strings.isEmpty(error)}?none:all"
             aria-labelledby="custom-width-modalLabel" aria-hidden="true" style="display: none;margin-top: 80px">
            <div class="modal-dialog" style="width:33%;">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title">注销、启用用户</h4>
                    </div>
                    <div class="modal-body">
                        <h4>注意：</h4>
                        <p id="custom-tip">用户被注销后将无法登陆及操作！</p>
                    </div>
                    <div class="modal-footer">
                        <input type="hidden" id="forbiddenId">
                        <input type="hidden" id="active">
                        <button type="button" id="forbbenButton" sec:authorize-url="/enterprise/web/forbiddenWeb/*/*"
                                onclick="forbbenUser()" class="btn btn-danger waves-effect waves-light">确定注销
                        </button>
                        <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- end confirm user-forbiden modal  -->

        <!-- start confirm add-mail modal  -->
        <div id="confirm-add-mail-modal" class="modal fade" tabindex="-1" role="dialog"
             th:remove="${#strings.isEmpty(error)}?none:all"
             aria-labelledby="custom-width-modalLabel"
             aria-hidden="true" style="display: none;margin: 60px;margin-top:68px">
            <div class="modal-dialog" style="width:33%;">
                <div class="modal-content">
                    <form id="submit_formq" method="post" th:action="@{/enterprise/express/save}"
                          th:object="${enterpriseExpressInfoValidator}" data-parsley-validate="">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title">新建、编辑邮寄信息</h4>
                        </div>
                        <div class="row" style="margin-top:10px">
                            <div class="col-md-12">
                                <div class="form-group m-b-20">
                                    <label>姓名<span class="text-danger">*</span>&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{postContacts}"
                                           required="" data-parsley-length="[1,23]" autocomplete="off"
                                           placeholder="姓名">
                                </div>
                                <div class="form-group m-b-20">
                                    <label>联系方式<span class="text-danger">*</span>&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{postPhone}"
                                           required="" data-parsley-length="[5,30]" autocomplete="off"
                                           placeholder="联系方式">
                                </div>
                                <div class="form-group m-b-20">
                                    <label>地址<span class="text-danger">*</span>&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{postAddress}"
                                           required="" data-parsley-length="[4,60]" autocomplete="off"
                                           placeholder="地址">
                                </div>
                                <div class="form-group m-b-20">
                                    <label>邮寄备注&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{postRemark}"
                                           data-parsley-length="[2,60]" autocomplete="off"
                                           placeholder="邮寄备注">
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <input type="hidden" th:field="*{enterpriseId}">
                            <input type="hidden" th:field="*{expressId}">
                            <a class="btn btn-default waves-effect" data-dismiss="modal">取消</a>
                            <button sec:authorize-url="/enterprise/express/save" type="submit"
                                    class="btn btn-primary waves-effect waves-light">提交
                            </button>
                        </div>
                    </form>
                    <!-- end form -->
                </div>
            </div>
        </div>
        <!-- end confirm add-mail modal  -->

        <!-- start confirm set-invoice modal  -->
        <div id="confirm-set-invoice-modal" class="modal fade" tabindex="-1" role="dialog"
             th:remove="${#strings.isEmpty(error)}?none:all"
             aria-labelledby="custom-width-modalLabel"
             aria-hidden="true" style="display: none;margin: 60px;margin-top:68px">
            <div class="modal-dialog" style="width:50%;">
                <div class="modal-content">
                    <form id="submit_formq2" method="post" th:action="@{/enterprise/invoice/save}"
                          th:object="${enterpriseInvoiceInfoValidator}" data-parsley-validate="">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title">新建、编辑增值税普通发票</h4>
                        </div>
                        <div class="row" style="margin-top:10px">
                            <div class="col-md-12">
                                <div class="col-md-6 form-group">
                                    <label>发票抬头<span class="text-danger">*</span>&nbsp;</label>
                                    <input type="text" class="form-control" id="invoiceTitle"
                                           th:field="*{invoiceTitle}"
                                           required="" data-parsley-length="[4,60]" autocomplete="off"
                                           placeholder="发票抬头">
                                </div>
                                <div class="col-md-6 form-group">
                                    <label>纳税人税号<span class="text-danger">*</span>&nbsp;</label>
                                    <input type="text" class="form-control"
                                           th:field="*{taxPayerNumber}" id="taxPayerNumber"
                                           required="" data-parsley-length="[15,25]" autocomplete="off"
                                           placeholder="纳税人税号">
                                </div>
                                <div class="col-md-6 form-group">
                                    <label>注册地址&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{registerAddress}"
                                           data-parsley-length="[2,64]" autocomplete="off" id="registerAddress"
                                           placeholder="注册地址">
                                </div>
                                <div class="col-md-6 form-group">
                                    <label>注册电话&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{registerPhone}"
                                           data-parsley-length="[5,30]" autocomplete="off" id="registerPhone"
                                           placeholder="注册电话">
                                </div>
                                <div class="col-md-6 form-group">
                                    <label>开户银行&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{openBank}"
                                           data-parsley-length="[2,64]" autocomplete="off" id="openBank"
                                           placeholder="开户银行">
                                </div>
                                <div class="col-md-6 form-group">
                                    <label>开户账号&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{openAccount}"
                                           data-parsley-length="[2,64]" autocomplete="off" id="openAccount"
                                           placeholder="开户账号">
                                </div>
                                <div class="col-md-12 form-group">
                                    <label>开票内容&nbsp;</label>
                                    <input type="text" class="form-control"
                                           th:field="*{invoiceMark}" id="invoiceMark"
                                           data-parsley-length="[1,128]" autocomplete="off"
                                           placeholder="备注">
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <input type="hidden" th:field="*{enterpriseId}">
                            <input type="hidden" th:field="*{commonId}">
                            <input type="hidden" th:name="invoiceType" th:value="1">
                            <a class="btn btn-default waves-effect" data-dismiss="modal">取消</a>
                            <button sec:authorize-url="/enterprise/invoice/save" type="submit"
                                    class="btn btn-primary waves-effect waves-light">提交
                            </button>
                        </div>
                    </form>
                    <!-- end form -->
                </div>
            </div>
        </div>
        <!-- end confirm add-invoice modal  -->

        <!-- start confirm set-special-invoice modal  -->
        <div id="confirm-set-invoice-special-modal" class="modal fade" tabindex="-1" role="dialog"
             th:remove="${#strings.isEmpty(error)}?none:all"
             aria-labelledby="custom-width-modalLabel"
             aria-hidden="true" style="display: none;margin: 60px;margin-top:68px">
            <div class="modal-dialog" style="width:50%;">
                <div class="modal-content">
                    <form id="submit_formq21" method="post" th:action="@{/enterprise/invoice/save}"
                          th:object="${enterpriseInvoiceInfoValidator}" data-parsley-validate="">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title">新建、编辑增值税专用发票</h4>
                        </div>
                        <div class="row" style="margin-top:10px">
                            <div class="col-md-12">
                                <div class="col-md-6 form-group">
                                    <label>发票抬头<span class="text-danger">*</span>&nbsp;</label>
                                    <input id="specialInvoiceTitle" type="text" class="form-control"
                                           th:field="*{invoiceTitle}"
                                           required="" data-parsley-length="[4,60]" autocomplete="off"
                                           placeholder="发票抬头">
                                </div>

                                <div class="col-md-6 form-group">
                                    <label>纳税人税号<span class="text-danger">*</span>&nbsp;</label>
                                    <input id="specialTaxPayerNumber" type="text" class="form-control"
                                           th:field="*{taxPayerNumber}"
                                           required="" data-parsley-length="[15,25]" autocomplete="off"
                                           placeholder="纳税人税号">
                                </div>
                                <div class="col-md-6 form-group">
                                    <label>注册地址&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{registerAddress}"
                                           data-parsley-length="[2,64]" autocomplete="off" id="specialRegisterAddress"
                                           placeholder="注册地址">
                                </div>
                                <div class="col-md-6 form-group">
                                    <label>注册电话&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{registerPhone}"
                                           data-parsley-length="[2,30]" autocomplete="off" id="specialRegisterPhone"
                                           placeholder="注册电话">
                                </div>
                                <div class="col-md-6 form-group">
                                    <label>开户银行&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{openBank}"
                                           data-parsley-length="[2,64]" autocomplete="off" id="specialOpenBank"
                                           placeholder="开户银行">
                                </div>
                                <div class="col-md-6 form-group">
                                    <label>开户账号&nbsp;</label>
                                    <input type="text" class="form-control" th:field="*{openAccount}"
                                           data-parsley-length="[2,64]" autocomplete="off" id="specialOpenAccount"
                                           placeholder="开户账号">
                                </div>
                                <div class="col-md-12 form-group">
                                    <label>开票内容&nbsp;</label>
                                    <input id="specialInvoiceMark" type="text" class="form-control"
                                           th:field="*{invoiceMark}"
                                           data-parsley-length="[1,128]" autocomplete="off"
                                           placeholder="备注">
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <input type="hidden" th:field="*{enterpriseId}">
                            <input type="hidden" th:field="*{specialId}">
                            <input type="hidden" th:name="invoiceType" th:value="2">
                            <a class="btn btn-default waves-effect" data-dismiss="modal">取消</a>
                            <button sec:authorize-url="/enterprise/invoice/save" type="submit"
                                    class="btn btn-primary waves-effect waves-light">提交
                            </button>
                        </div>
                    </form>
                    <!-- end form -->
                </div>
            </div>
        </div>
        <!-- end confirm add-special-invoice modal  -->

        <!-- start confirm delete modal  -->
        <div id="confirm-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="custom-width-modalLabel"
             aria-hidden="true" style="display: none;margin: 60px">
            <div class="modal-dialog" style="width:33%;">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title" id="custom-width-modalLabel">确认删除</h4>
                    </div>
                    <div class="modal-body">

                        <p>删除之后数据无法恢复！你还是确认删除？</p>

                    </div>
                    <div class="modal-footer">
                        <input type="hidden" id="deleteId">
                        <input type="hidden" id="deleteType">
                        <a class="btn btn-default waves-effect" data-dismiss="modal">取消</a>
                        <button class="btn btn-primary waves-effect waves-light" onclick="deleteById()">确认删除</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- end confirm delete modal  -->

        <!-- start confirm add-user modal  -->
        <div id="confirm-add-auth-modal" class="modal fade" tabindex="-1" role="dialog"
             th:remove="${#strings.isEmpty(error)}?none:all"
             aria-labelledby="custom-width-modalLabel"
             aria-hidden="true" style="display: none;margin: 60px;margin-top:68px">
            <div class="modal-dialog" style="width:33%;">
                <div class="modal-content">
                    <form id="auth_form" method="post" th:action="@{/enterprise/web/webAuthSave}"
                          data-parsley-validate="">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title">WEB登录账号授权</h4>
                        </div>
                        <div class="row" style="margin-top:10px" id="sss">

                        </div>
                        <div class="modal-footer">
                            <input type="hidden" id="uId" name="uId">
                            <input type="hidden" id="roleIds" name="roleIds">
                            <a class="btn btn-default waves-effect" data-dismiss="modal">取消</a>
                            <button sec:authorize-url="/enterprise/web/webAuthSave" type="button"
                                    onclick="subAuth()"
                                    class="btn btn-primary waves-effect waves-light">提交
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- end confirm add-user modal  -->

        <!-- start row  错误提示-->
        <th:block th:insert="fragments/common_fragments :: common_error"/>
        <!-- end row -->


    </div> <!-- container -->
</div> <!-- content -->
<th:block th:insert="fragments/common_fragments :: common_js"/>
<th:block th:insert="fragments/common_fragments :: common_submit_form"/>
<script th:src="@{/static/js/clipboard.min.js}"></script>
<!-- Tooltipster js -->
<script th:src="@{/static/plugins/tooltipster/tooltipster.bundle.min.js}"></script>

<script>

    //查看密码
    function lookPassword(id) {

        var contextPath = '[[${#httpServletRequest.getContextPath()}]]';
        $.ajax({
            url: contextPath + "/enterprise/web/look/" + id,
            async: false,
            success: function (data) {
                document.getElementById(id).innerText = data;
            }
        });
    }

    //打开密码框
    function openPassword(id, webLoginName, op, realName) {
        if ("add" == op) {
            $("#id").val('');
            $("#webLoginName").val('');
            $("#webLoginName").attr("readOnly", false);
            $("#webLoginPassword").val(getCode());
        } else {
            $("#id").val(id);
            $("#webLoginName").val(webLoginName);
            $("#webLoginName").attr("readOnly", true);
            $("#webRealName").val(realName);
            $("#webRealName").attr("readOnly", true);
            $("#webLoginPassword").val(getCode());
        }
    }

    function openAuth(id) {
        $("#uId").val(id);
        document.getElementById("sss").innerText = "";
        var contextPath = '[[${#httpServletRequest.getContextPath()}]]';
        $.ajax({
            url: contextPath + "/enterprise/web/webLoginAuth/" + id,
            async: false,
            success: function (result) {
                var arr = [];
                for (var item in result) {
                    arr.push(result[item]);
                }
                var htmla = ""
                for (var i = 0; i < arr.length; i++) {
                    htmla += '<div class="col-md-6"><div class="checkbox checkbox-info m-b-15">'
                    if (arr[i].checkedStatus) {
                        htmla += '<input name="roleId" value="' + arr[i].roleIds + '" type="checkbox" checked >'
                    } else {
                        htmla += '<input name="roleId" value="' + arr[i].roleIds + '" type="checkbox" >'
                    }
                    htmla += '<label>' + arr[i].roleName + '</label></div></div>';
                }

                $('#sss').append(htmla)
            }
        });

    }

    function subAuth() {
        var menusId = "";
        var a = document.getElementsByName("roleId");
        for (var i = 0; i < a.length; i++) {
            if (a[i].checked) {
                if (menusId == "") {
                    menusId = a[i].value;
                } else {
                    menusId += "," + a[i].value;
                }
            }
        }
        if (null == menusId || "" == menusId) {
            alert("请选择角色！");
            return;
        }

        $("#roleIds").val(menusId);
        $('#auth_form').submit();
    }


    //打开邮寄信息
    function openExpress(id, postContacts, postPhone, postAddress, postRemark, op) {
        if ("add" == op) {
            $("#id").val('');
            $("#postContacts").val('');
            $("#postPhone").val('');
            $("#postAddress").val('');
            $("#postRemark").val('');
        } else {
            $("#expressId").val(id);
            $("#postContacts").val(postContacts);
            $("#postPhone").val(postPhone);
            $("#postAddress").val(postAddress);
            $("#postRemark").val(postRemark);
        }
    }

    //打开普通发票信息
    function openCommonInvoice(id, invoiceTitle, taxPayerNumber, openBank, openAccount, registerPhone, registerAddress, invoiceMark) {
        $("#commonId").val(id);
        $("#invoiceTitle").val(invoiceTitle);
        $("#taxPayerNumber").val(taxPayerNumber);
        $("#openBank").val(openBank);
        $("#openAccount").val(openAccount);
        $("#registerPhone").val(registerPhone);
        $("#registerAddress").val(registerAddress);
        $("#invoiceMark").val(invoiceMark);
    }

    //打开专用发票信息
    function openSpecialInvoice(id, invoiceTitle, taxPayerNumber, openBank, openAccount, registerPhone, registerAddress, invoiceMark) {
        $("#specialId").val(id);
        $("#specialInvoiceTitle").val(invoiceTitle);
        $("#specialTaxPayerNumber").val(taxPayerNumber);
        $("#specialOpenBank").val(openBank);
        $("#specialOpenAccount").val(openAccount);
        $("#specialRegisterPhone").val(registerPhone);
        $("#specialRegisterAddress").val(registerAddress);
        $("#specialInvoiceMark").val(invoiceMark);
    }

    function confirmDelete(id, deleteType) {
        $("#deleteId").val(id);
        $("#deleteType").val(deleteType);
    }

    //删除邮寄、发票信息
    function deleteById() {
        var contextPath = '[[${#httpServletRequest.getContextPath()}]]';
        $('#preloader').css('display', 'block');
        var deleteType = $("#deleteType").val()
        if ("1" == deleteType) {
            //删除邮寄信息
            location.href = contextPath + '/enterprise/express/deleteById/' + $("#deleteId").val();
        } else if ("2" == deleteType) {
            //删除发票信息
            location.href = contextPath + '/enterprise/invoice/deleteById/' + $("#deleteId").val();
        }
    }

    //确认注销企业
    function confirmforbbenEnterprise(id, active) {
        $("#enterprise").val(id);
        $("#enterpriseActive").val(active);
        if (0 == active) {
            document.getElementById("enterprise-tip").innerText = "企业启用后所有的业务、WEB登录账号可以进行登录及操作！";
            document.getElementById("forbbenEnterpriseButton").setAttribute("class", "btn btn-info waves-effect waves-light");
            document.getElementById("forbbenEnterpriseButton").innerText = "确定启用";
        } else {
            document.getElementById("enterprise-tip").innerText = "企业被注销后所有的业务、WEB登录账号将无法登陆及操作！";
            document.getElementById("forbbenEnterpriseButton").setAttribute("class", "btn btn-danger waves-effect waves-light");
            document.getElementById("forbbenEnterpriseButton").innerText = "确定注销";
        }
    }

    function forbbenEnterprise() {
        var contextPath = '[[${#httpServletRequest.getContextPath()}]]';
        $('#preloader').css('display', 'block');
        location.href = contextPath + '/enterprise/forbiddenEnterprise/' + $("#enterprise").val() + "/" + $("#enterpriseActive").val();
    }

    //确认注销WEB登录账号
    function confirmForbidden(id, active) {
        $("#forbiddenId").val(id);
        $("#active").val(active);
        if (0 == active) {
            document.getElementById("custom-tip").innerText = "用户被启用后可以操作自服务平台！";
            document.getElementById("forbbenButton").setAttribute("class", "btn btn-info waves-effect waves-light");
            document.getElementById("forbbenButton").innerText = "确定启用";
        } else {
            document.getElementById("custom-tip").innerText = "用户被注销后将无法登陆及操作！";
            document.getElementById("forbbenButton").setAttribute("class", "btn btn-danger waves-effect waves-light");
            document.getElementById("forbbenButton").innerText = "确定注销";
        }
    }

    function forbbenUser() {
        var contextPath = '[[${#httpServletRequest.getContextPath()}]]';
        $('#preloader').css('display', 'block');
        location.href = contextPath + '/enterprise/web/forbiddenWeb/' + $("#forbiddenId").val() + "/" + $("#active").val();
    }

</script>

<script>

    //复制发票信息
    function invoiceCopy(data, type) {
        var invoiceCopy = document.getElementById(data);
        if (invoiceCopy != null) {
            var clipboard = new ClipboardJS(invoiceCopy);
            invoiceCopy.click();
            clipboard.destroy();
            if ("1" == type) {
                document.getElementById("copyCommonId").style.display = "";
                setTimeout(function () {
                    document.getElementById("copyCommonId").style.display = "none";
                }, 1000);
            }
            if ("2" == type) {
                document.getElementById("copySpecialId").style.display = "";
                setTimeout(function () {
                    document.getElementById("copySpecialId").style.display = "none";
                }, 1000);
            }

        }
    }

    //复制邮寄信息
    function expressCopy(id) {
        var expressCopy = document.getElementById("expressCopy" + id);
        if (expressCopy != null) {
            var clipboard = new ClipboardJS(expressCopy);
            expressCopy.click();
            clipboard.destroy();
            document.getElementById("copyId" + id).style.display = "";
            setTimeout(function () {
                document.getElementById("copyId" + id).style.display = "none";
            }, 1000);
        }
    }

</script>

<script>
    //封装一个随机生成数字的函数
    /*function random(a, b) {
            var n = Math.round(Math.random() * (a - b) + b);
            return n;
        }

    function getCode(){
        //定义一个字符串把所有可能都装进去，全部字母以及数字
        var codeStr = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

        //声明一个空的字符串，用作装随机生成的四个数。
        var str = "";

        //写一个循环用来重复随机生成几个数，以及将东西一个一个放进上面声明的空字符串内
        for (var i = 0; i < 8; i++) {
                var m = random(0,61);
                str += codeStr.charAt(m);
            }
        //在外面调用函数时，一定要在函数内写返回值
        return str;
    }*/

    function getCode() {
        var length = 8;
        // 密码串----默认 大写字母 小写字母 数字
        var passwordArray = ['ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz', '1234567890'];
        var password = '';
        // 随机生成开始字符串
        var startIndex = parseInt(Math.random() * (length));
        var randIndex = [];
        for (var i = 0; i < length; i++) {
            // 创建数组，用于取随机位置  [0,1,2,3,4,5,....]
            randIndex.push(i);
        }
        for (var i = 0; i < length; i++) {
            // 根据随机数组生成随机位置
            var r = parseInt(Math.random() * (randIndex.length));
            var num = randIndex[r] + startIndex;
            // 根据随机值取余数
            var randRemainder = num % passwordArray.length;
            // 当前密码串【大写字母，小写字母，数字等】
            var currentPassword = passwordArray[randRemainder];
            // 根据当前密码串长度取随机数
            var index = parseInt(Math.random() * (currentPassword.length));
            // 获取随机字符串
            var str = currentPassword.substr(index, 1);
            // 删除随机数组中已经使用的值
            randIndex.splice(r, 1);
            password += str;
        }
        return password;

    }

</script>

<script>


    //页签切换
    function active(tab) {
        for (var num = 1; num < 6; num++) {
            $('#tab' + num).removeClass("active");
        }
        $('#tab' + tab).attr("class", "active");
    }

    // 切换按钮初始化
    var switchery = [];
    var elems = document.querySelectorAll('.switchery');
    for (var i = 0; i < elems.length; i++) {
        switchery[i] = new Switchery(elems[i]);
    }

    $(document).ready(function () {

        if ($.cookie("login-panel") == "true") {
            $('#login-panel').css('display', 'block');
            $("#login-show").attr("checked", 'checked');
        } else if ($.cookie("login-panel") == "false") {
            $('#login-panel').css('display', 'none');
        }

        if ($.cookie("login-spread") == "true") {
            $('#login-account-down').css('display', 'block');
            $('#login-account-up').css('display', 'none');
            $('#login-account').css('display', 'block');
            $("#login-spread").prop("checked", true);
        } else if ($.cookie("login-spread") == "false") {
            $('#login-account-down').css('display', 'none');
            $('#login-account-up').css('display', 'block');
            $('#login-account').css('display', 'none');
            $("#login-spread").prop("checked", false);
        }

        if ($.cookie("mail-show") == "true") {
            $('#mail-panel').css('display', 'block');
            $("#mail-show").attr("checked", true);
        } else if ($.cookie("mail-show") == "false") {
            $('#mail-panel').css('display', 'none');
            $("#mail-show").attr("checked", false);
        }

        if ($.cookie("mail-spread") == "true") {
            $('#login-account-down').css('display', 'block');
            $('#login-account-up').css('display', 'none');
            $('#login-account').css('display', 'block');
            $("#mail-spread").attr("checked", true);
        } else if ($.cookie("mail-spread") == "false") {
            $('#mail-info-down').css('display', 'none');
            $('#mail-info-up').css('display', 'block');
            $('#mail-info').css('display', 'none');
            $("#mail-spread").attr("checked", false);
        }

        if ($.cookie("invoice-show") == "true") {
            $('#invoice-panel').css('display', 'block');
            $("#invoice-show").attr("checked", true);
        } else if ($.cookie("invoice-show") == "false") {
            $('#invoice-panel').css('display', 'none');
            $("#invoice-show").attr("checked", false);
        }

        if ($.cookie("invoice-spread") == "true") {
            $('#invoice-info-down').css('display', 'block');
            $('#invoice-info-up').css('display', 'none');
            $('#invoice-info').css('display', 'block');
            $("#invoice-spread").attr("checked", true);
        } else if ($.cookie("invoice-spread") == "false") {
            $('#invoice-info-down').css('display', 'none');
            $('#invoice-info-up').css('display', 'block');
            $('#invoice-info').css('display', 'none');
            $("#invoice-spread").attr("checked", false);
        }


        $("#login-show").change(function () {
            if ($(this).prop("checked")) {
                $('#login-panel').css('display', 'block');
                //存储cookie
                $.cookie("login-panel", 'true', {
                    expires: 360
                });
            } else {
                $('#login-panel').css('display', 'none');
                //存储cookie
                $.cookie("login-panel", "false", {
                    expires: 360
                });
            }
        });

        $("#login-spread").change(function () {
            if ($(this).prop("checked")) {
                $('#login-account-down').css('display', 'block');
                $('#login-account-up').css('display', 'none');
                $('#login-account').css('display', 'block');
                //存储cookie
                $.cookie("login-spread", 'true', {
                    expires: 360
                });
            } else {
                $('#login-account-down').css('display', 'none');
                $('#login-account-up').css('display', 'block');
                $('#login-account').css('display', 'none');
                //存储cookie
                $.cookie("login-spread", "false", {
                    expires: 360
                });
            }
        });

        $("#mail-show").change(function () {
            if ($(this).prop("checked")) {
                $('#mail-panel').css('display', 'block');
                //存储cookie
                $.cookie("mail-show", 'true', {
                    expires: 360
                });
            } else {
                $('#mail-panel').css('display', 'none');
                //存储cookie
                $.cookie("mail-show", "false", {
                    expires: 360
                });
            }
        });

        $("#mail-spread").change(function () {
            if ($(this).prop("checked")) {
                $('#mail-info-down').css('display', 'block');
                $('#mail-info-up').css('display', 'none');
                $('#mail-info').css('display', 'block');
                //存储cookie
                $.cookie("mail-spread", 'true', {
                    expires: 360
                });
            } else {
                $('#mail-info-down').css('display', 'none');
                $('#mail-info-up').css('display', 'block');
                $('#mail-info').css('display', 'none');
                //存储cookie
                $.cookie("mail-spread", "false", {
                    expires: 360
                });
            }
        });

        $("#invoice-show").change(function () {
            if ($(this).prop("checked")) {
                $('#invoice-panel').css('display', 'block');
                //存储cookie
                $.cookie("invoice-show", 'true', {
                    expires: 360
                });
            } else {
                $('#invoice-panel').css('display', 'none');
                //存储cookie
                $.cookie("invoice-show", "false", {
                    expires: 360
                });
            }
        });

        $("#invoice-spread").change(function () {
            if ($(this).prop("checked")) {
                $('#invoice-info-down').css('display', 'block');
                $('#invoice-info-up').css('display', 'none');
                $('#invoice-info').css('display', 'block');
                //存储cookie
                $.cookie("invoice-spread", 'true', {
                    expires: 360
                });
            } else {
                $('#invoice-info-down').css('display', 'none');
                $('#invoice-info-up').css('display', 'block');
                $('#invoice-info').css('display', 'none');
                //存储cookie
                $.cookie("invoice-spread", "false", {
                    expires: 360
                });
            }
        });


        $('#login-account-icon-down').on("click", function () {
            $('#login-account-down').css('display', 'none');
            $('#login-account-up').css('display', 'block');
            $('#login-account').css('display', 'none');
        });
        $('#login-account-icon-up').on("click", function () {
            $('#login-account-down').css('display', 'block');
            $('#login-account-up').css('display', 'none');
            $('#login-account').css('display', 'block');
        });
        $('#mail-info-icon-down').on("click", function () {
            $('#mail-info-down').css('display', 'none');
            $('#mail-info-up').css('display', 'block');
            $('#mail-info').css('display', 'none');
        });
        $('#mail-info-icon-up').on("click", function () {
            $('#mail-info-down').css('display', 'block');
            $('#mail-info-up').css('display', 'none');
            $('#mail-info').css('display', 'block');
        });
        $('#invoice-info-icon-down').on("click", function () {
            $('#invoice-info-down').css('display', 'none');
            $('#invoice-info-up').css('display', 'block');
            $('#invoice-info').css('display', 'none');
        });
        $('#invoice-info-icon-up').on("click", function () {
            $('#invoice-info-down').css('display', 'block');
            $('#invoice-info-up').css('display', 'none');
            $('#invoice-info').css('display', 'block');
        });
    });

    var resizefunc = [];
    //隐藏进度项
    $('#preloader').css('display', 'none');
</script>
</body>
</html>