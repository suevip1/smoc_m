<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:mpm="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <th:block th:insert="fragments/common_fragments :: common_header"/>
    <th:block th:insert="fragments/common_fragments :: common_css"/>
    <link th:href="@{/static/plugins/switchery/switchery.min.css}" rel="stylesheet">
</head>
<body>
<!-- Loader -->
<th:block th:insert="fragments/common_fragments :: common_loader"/>
<!-- Loader end -->
<!-- Start content -->
<div class="content" style="margin-top: 60px">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <div class="page-title-box">
                    <h4 class="page-title">EC通道账户维护</h4>
                    <ol class="breadcrumb p-0 m-0">
                        <li>
                            客户管理
                        </li>
                        <li>
                            EC通道管理
                        </li>
                        <li class="active">
                            EC通道账户维护
                        </li>
                    </ol>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <!-- end row -->
        <div class="row" th:remove="${#strings.isEmpty(error)}?none:all">
            <div class="col-sm-12">
                <div class="card-box">
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <h4 class="m-b-10">EC通道账户维护
                                        <div class="pull-right" style="margin-top: -12px;">
                                            <a sec:authorize-url="/ec/customer/channel/account/list" th:href="@{/ec/customer/channel/account/list}"
                                               class="btn btn-default waves-effect waves-light btn-md">
                                                <i class="glyphicon  glyphicon-share-alt" style="margin-right:5px"></i>
                                                返回通道账户列表</a>
                                            <a  th:href="@{/ec/customer/channel/account/center}"
                                                style="margin-left:10px;"
                                                class="btn btn-success waves-effect waves-light btn-md">
                                                <i class="mdi mdi-brightness-7" style="margin-right:5px"></i>
                                                EC通道账户中心
                                            </a>
                                            <a id="help_display" style="margin-left:10px"><i class="mdi mdi-help-circle-outline"></i></a>
                                        </div>
                                    </h4>
                                    <div id="help" class="alert alert-icon alert-success alert-dismissible fade in" style="margin-top:20px" role="alert">
                                        <button id="help_button" type="button" class="close"
                                                aria-label="Close">
                                            <span >&times;</span>
                                        </button>
                                        <i class="mdi mdi-help-circle-outline"></i>
                                        <strong>操作提示：</strong> 完成一个通道账户开户工作，要完成下面一系列工作，红色代表没进行设置。
                                    </div>

                                    <div class="row" style="margin-top:20px">
                                        <div class="col-md-12">
                                            <div class="card-box">
                                                <ul class="nav nav-pills m-b-30 pull-right">
                                                    <li th:class="${type =='view'?'active':''}" id="view">
                                                        <a onclick="activeTab('view')"  sec:authorize-url="/ec/customer/channel/account/view/**/*"
                                                           th:href="@{/ec/customer/channel/account/view/detail/id}"
                                                           th:target="tab-content">通道账户详细
                                                        </a>
                                                    </li>
                                                    <li th:class="${type =='base'?'active':''}" id="base">
                                                        <a onclick="activeTab('base')"  sec:authorize-url="/ec/customer/channel/account/edit/**/*"
                                                           th:href="@{/ec/customer/channel/account/edit/base/id}"
                                                           th:target="tab-content">基本信息
                                                        </a>
                                                    </li>
                                                    <li th:class="${type =='interface'?'active':''}" id="interface">
                                                        <a onclick="activeTab('interface')"  sec:authorize-url="/ec/customer/channel/account/edit/**/*"
                                                           th:href="@{/ec/customer/channel/account/edit/interface/id}"
                                                           th:target="tab-content">接口信息
                                                        </a>
                                                    </li>
                                                    <li th:class="${type =='finance'?'active':''}" id="finance">
                                                        <a onclick="activeTab('finance')"  sec:authorize-url="/ec/customer/channel/account/edit/**/*"
                                                           th:href="@{/ec/customer/channel/account/edit/finance/id}"
                                                           th:target="tab-content">财务信息
                                                        </a>
                                                    </li>
                                                    <li th:class="${type =='filter'?'active':''}" id="filter">
                                                        <a onclick="activeTab('filter')"  sec:authorize-url="/ec/customer/channel/account/edit/**/*"
                                                           th:href="@{/ec/customer/channel/account/edit/filter/id}"
                                                           th:target="tab-content" style="color:#f35864">过滤信息
                                                        </a>
                                                    </li>
                                                    <li th:class="${type =='product'?'active':''}" id="product">
                                                        <a onclick="activeTab('product')"  sec:authorize-url="/ec/customer/channel/account/edit/**/*"
                                                           th:href="@{/ec/customer/channel/account/edit/product/id}"
                                                           th:target="tab-content" style="color:#f35864">产品配置
                                                        </a>
                                                    </li>
                                                    <li th:class="${type =='channel'?'active':''}" id="channel">
                                                        <a onclick="activeTab('channel')"  sec:authorize-url="/ec/customer/channel/account/edit/**/*"
                                                           th:href="@{/ec/customer/channel/account/edit/channel/id}"
                                                           th:target="tab-content" style="color:#f35864">通道配置
                                                        </a>
                                                    </li>
                                                    <li th:class="${type =='parameters'?'active':''}" id="parameters">
                                                        <a onclick="activeTab('parameters')"  sec:authorize-url="/ec/customer/channel/account/edit/**/*"
                                                           th:href="@{/ec/customer/channel/account/edit/parameters/id}"
                                                           th:target="tab-content" style="color:#f35864">扩展参数
                                                        </a>
                                                    </li>
                                                    <li th:class="${type =='check'?'active':''}" id="check">
                                                        <a onclick="activeTab('check')"  sec:authorize-url="/ec/customer/channel/account/edit/**/*"
                                                           th:href="@{/ec/customer/channel/account/edit/check/id}"
                                                           th:target="tab-content">审核记录
                                                        </a>
                                                    </li>
                                                    <li th:class="${type =='operate'?'active':''}" id="operate">
                                                        <a onclick="activeTab('operate')"  sec:authorize-url="/ec/customer/channel/account/edit/**/*"
                                                           th:href="@{/ec/customer/channel/account/edit/operate/id}"
                                                           th:target="tab-content">审核记录
                                                        </a>
                                                    </li>
                                                </ul>
                                                <div class="tab-cotent" style="background-color:#fff">
                                                    <iframe name="tab-content" id="tab-content" th:frameBorder="0" th:scrolling="auto"
                                                            th:src="@{${url}}" style="padding: 0px; width: 100%; height: 2600px;background-color:#fff"> </iframe>
                                                </div>
                                            </div>
                                        </div> <!-- end col -->
                                    </div>
                                    <!-- end row -->
                                </div> <!-- end col -->

                            </div> <!-- end row -->

                </div>
            </div>
        </div>
        <!-- End row -->

        <!-- end row -->
        <th:block th:insert="fragments/common_fragments :: common_error"/>

    </div> <!-- container -->
</div> <!-- content -->
<th:block th:insert="fragments/common_fragments :: common_js"/>
<th:block th:insert="fragments/cookie_fragments :: cookie_js"/>

<script>

    /**
     * 处理cookie
     */
    $(document).ready(function() {

        if("none" == $.cookie("help_display_account_config")){
           $('#help').css('display', 'none');
        }

        $('#help_display').on("click", function () {
           if('block' == $('#help').css('display')){
             $('#help').css('display', 'none');
             $.cookie("help_display_account_config", 'none', {
                expires : 180
             });
           }else{
             $('#help').css('display', 'block');
             $.cookie("help_display_account_config", 'block', {
                expires : 180
             });
           }
        });
        $('#help_button').on("click", function () {
           $('#help').css('display', 'none');
           $.cookie("help_display_account_config", 'none', {
			expires : 180
		   });
        });

    });

    //页签切换
    function activeTab(id){
       $("#view").removeClass("active");
       $("#base").removeClass("active");
       $("#interface").removeClass("active");
       $("#finance").removeClass("active");
       $("#filter").removeClass("active");
       $("#product").removeClass("active");
       $("#channel").removeClass("active");
       $("#parameters").removeClass("active");
       $("#check").removeClass("active");
       $("#operate").removeClass("active");

       $("#"+id).addClass("active");

    }


    var resizefunc = [];
    //隐藏进度项
    $('#preloader').css('display', 'none');
</script>
</body>
</html>